"use strict";var slider={slides:document.querySelectorAll(".slides .slide"),indicators__list:document.querySelector(".sliders-indicators__list"),indicators:"",scrollLeft:document.querySelector(".slider__button-previous"),scrollRight:document.querySelector(".slider__button-next"),currentSlide:0,playing:!0};if(slider.slides.length){for(var i=0;i<slider.slides.length;i++)slider.indicators__list.innerHTML=slider.indicators__list.innerHTML+'<li><button type="button" name="slider-indicator" class="slider__indicator" data-slide-number="'+i+'"><span class="visually-hidden">Слайд '+(i+1)+"</span></button></li>";slider.indicators=document.querySelectorAll(".sliders-indicators__list .slider__indicator"),slider.indicators[0].classList.add("slider__indicator_active");for(i=0;i<slider.slides.length;i++)slider.indicators[i].addEventListener("click",function(){goToSlide(Number(this.dataset.slideNumber)),pauseSlideShow()});slider.scrollLeft.addEventListener("click",function(){prevSlide(),pauseSlideShow()}),slider.scrollRight.addEventListener("click",function(){nextSlide(),pauseSlideShow()});var startSlideShow=setInterval(nextSlide,4e3)}function goToSlide(e){slider.slides[slider.currentSlide].className="slide",slider.indicators[slider.currentSlide].className="slider__indicator",slider.currentSlide=(e+slider.slides.length)%slider.slides.length,slider.slides[slider.currentSlide].classList.add("slide_visible"),slider.indicators[slider.currentSlide].classList.add("slider__indicator_active")}function nextSlide(){goToSlide(slider.currentSlide+1)}function prevSlide(){goToSlide(slider.currentSlide-1)}function pauseSlideShow(){clearInterval(startSlideShow)}var modal={map:document.querySelector(".modal__map"),writeUs:document.querySelector(".modal__write-us"),buying:document.querySelector(".modal__buying"),close:document.querySelectorAll(".modal__close")},buttons__buy=document.querySelectorAll(".button__buy"),button__shopcart=document.querySelector(".button__shopcart"),shopcart={innerhtml:button__shopcart.innerHTML};function showWriteUsPopUp(){modal.writeUs&&modal.writeUs.classList.add("modal-show")}function showMapPopUp(){modal.map&&modal.map.classList.add("modal-show")}function hideAllPopups(){modal.map&&modal.map.classList.contains("modal-show")&&modal.map.classList.remove("modal-show"),modal.writeUs&&modal.writeUs.classList.contains("modal-show")&&modal.writeUs.classList.remove("modal-show"),modal.buying&&modal.buying.classList.contains("modal-show")&&modal.buying.classList.remove("modal-show")}function addItemInCart(e){e.preventDefault(),button__shopcart&&(button__shopcart.innerHTML=shopcart.template+(shopcart.countItems+1),0<shopcart.countItems+1&&button__shopcart.classList.add("button__highlight_red")),modal.buying.classList.add("modal-show");e=button__shopcart.innerHTML;shopcart.countItems=Number(e.slice(e.indexOf("Корзина: ")+9))}if(shopcart.template=shopcart.innerhtml.substr(0,+shopcart.innerhtml.indexOf("Корзина: ")+9),shopcart.countItems=Number(shopcart.innerhtml.slice(shopcart.innerhtml.indexOf("Корзина: ")+9)),modal.buying&&buttons__buy)for(i=0;i<buttons__buy.length;i++)buttons__buy[i].addEventListener("click",addItemInCart,!1);if(modal.close)for(i=0;i<modal.close.length;i++)modal.close[i].addEventListener("click",hideAllPopups,!1);var range={config:{minValue:0,maxValue:5e4},container:{elem:document.querySelector(".price-range__context"),getCoords:function(){return getCoords(this.elem)}},select:document.querySelector(".price-range__selected"),thumb:{min:document.querySelector(".price-range__handler_min"),max:document.querySelector(".price-range__handler_max")},input:{min:document.querySelector(".price-range__input-min"),max:document.querySelector(".price-range__input-max")}},distance=range.config.maxValue-range.config.minValue,rangeWidth=range.container.elem.offsetWidth;function pixelsToValue(e){return Math.floor(distance*e/rangeWidth)}function valueToPixels(e){return rangeWidth*e/distance}function getCoords(e){e=e.getBoundingClientRect();return{left:e.left+pageXOffset,right:e.right+pageXOffset}}range.min=parseInt(getComputedStyle(range.select).left),range.max=rangeWidth-parseInt(getComputedStyle(range.select).right),range.thumb.min.onmousedown=function(e){var t=getCoords(range.select),n=e.pageX-t.left;document.onmousemove=function(e){e=e.pageX-n-range.container.getCoords().left;e<0&&(e=0),e>range.max&&(e=range.max),range.min=e,range.select.style.left=e+"px";e=pixelsToValue(e);range.input.min.value=e},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}},range.thumb.min.ondragstart=function(){return!1},range.input.min.onchange=function(e){e=valueToPixels(e.target.value=e.target.valueAsNumber);range.min=e,range.select.style.left=e+"px"},range.thumb.max.onmousedown=function(e){var t=getCoords(range.select),n=e.pageX-t.right;console.log("left: "+t.left),console.log("right: "+t.right),console.log("shiftX: "+n),document.onmousemove=function(e){e=e.pageX-n-range.container.getCoords().left;rangeWidth<e&&(e=rangeWidth),e<range.min&&(e=range.min),range.max=e,range.select.style.right=rangeWidth-e+"px";e=pixelsToValue(e);range.input.max.value=e},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}},range.thumb.max.ondragstart=function(){return!1},range.input.max.onkeydown=function(e){e=valueToPixels(e.target.value=e.target.valueAsNumber);range.max=e,range.select.style.right=rangeWidth-e+"px"};